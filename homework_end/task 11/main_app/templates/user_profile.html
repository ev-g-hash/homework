{% extends "base.html" %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è{% endblock %}
{% block content %}
<div class="header">
    <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è #{{ user.id }}</h2>
    <div>
        <a href="{% url 'edit_profile' user.id %}" class="btn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
        <a href="{% url 'user_list' %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
    </div>
</div>

<div class="user-card">
    <h3>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    <div class="user-info">
        <strong>üë§ –ò–º—è:</strong> {{ user.name }}
    </div>
    <div class="user-info">
        <strong>üìß Email:</strong> <a href="mailto:{{ user.email }}">{{ user.email }}</a>
    </div>
    <div class="user-info">
        <strong>üì± –¢–µ–ª–µ—Ñ–æ–Ω:</strong> <a href="tel:{{ user.phone }}">{{ user.phone }}</a>
    </div>
    <div class="user-info">
        <strong>üéÇ –í–æ–∑—Ä–∞—Å—Ç:</strong> {{ user.age }} –ª–µ—Ç
    </div>
</div>

<div class="user-card">
    <h3>üìÖ –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    <div class="user-info">
        <strong>üìÖ –°–æ–∑–¥–∞–Ω:</strong> {{ user.created_at|date:"d.m.Y H:i:s" }}
    </div>
</div>

<div class="actions">
    <a href="{% url 'edit_profile' user.id %}" class="btn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
    <form method="post" action="{% url 'delete_user' user.id %}" style="display: inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
    </form>
</div>

<script>
// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø—Ä–æ—Ñ–∏–ª—è
setTimeout(() => {
    alert(`üëã –ü—Ä–∏–≤–µ—Ç! –í—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${'{{ user.name }}'}.\n\n–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.`);
}, 2000);

// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —Å—Å—ã–ª–æ–∫
document.addEventListener('click', function(e) {
    if (e.target.tagName === 'A' && e.target.href.includes('mailto:')) {
        e.preventDefault();
        const email = e.target.textContent;
        if (confirm(`üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å email –Ω–∞ ${email}?`)) {
            window.location.href = e.target.href;
        }
    }
    
    if (e.target.tagName === 'A' && e.target.href.includes('tel:')) {
        e.preventDefault();
        const phone = e.target.textContent;
        if (confirm(`üì± –ü–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞ –Ω–æ–º–µ—Ä ${phone}?`)) {
            window.location.href = e.target.href;
        }
    }
});
</script>
{% endblock %}