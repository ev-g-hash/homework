{% extends "base.html" %}
{% block title %}–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è{% endblock %}
{% block content %}
<div class="header">
    <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
</div>

<div class="user-card">
    <h3>üìù –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
    <form method="post" id="createForm">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ user_form.name.id_for_label }}">üë§ –ò–º—è:</label>
            {{ user_form.name }}
            {% if user_form.name.errors %}
                <ul class="errorlist">
                    {% for error in user_form.name.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ user_form.email.id_for_label }}">üìß Email:</label>
            {{ user_form.email }}
            {% if user_form.email.errors %}
                <ul class="errorlist">
                    {% for error in user_form.email.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ user_form.phone.id_for_label }}">üì± –¢–µ–ª–µ—Ñ–æ–Ω:</label>
            {{ user_form.phone }}
            {% if user_form.phone.errors %}
                <ul class="errorlist">
                    {% for error in user_form.phone.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ user_form.age.id_for_label }}">üéÇ –í–æ–∑—Ä–∞—Å—Ç:</label>
            {{ user_form.age }}
            {% if user_form.age.errors %}
                <ul class="errorlist">
                    {% for error in user_form.age.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
        
        <div class="actions">
            <button type="submit" class="btn btn-success" id="submitBtn">‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
            <a href="{% url 'user_list' %}" class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>

<script>
// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('createForm');
    const submitBtn = document.getElementById('submitBtn');
    
    form.addEventListener('submit', function(e) {
        submitBtn.innerHTML = '‚è≥ –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...';
        submitBtn.disabled = true;
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
        setTimeout(() => {
            submitBtn.innerHTML = '‚úÖ –ì–æ—Ç–æ–≤–æ!';
            setTimeout(() => {
                submitBtn.innerHTML = '‚úÖ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
                submitBtn.disabled = false;
            }, 1000);
        }, 1500);
    });
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    const inputs = form.querySelectorAll('input');
    inputs.forEach(input => {
        input.addEventListener('blur', function() {
            if (this.value.trim()) {
                this.style.borderColor = '#4CAF50';
                this.style.boxShadow = '0 0 10px rgba(76, 175, 80, 0.3)';
            } else {
                this.style.borderColor = '#f44336';
                this.style.boxShadow = '0 0 10px rgba(244, 67, 54, 0.3)';
            }
        });
        
        input.addEventListener('focus', function() {
            this.style.borderColor = '#667eea';
            this.style.boxShadow = '0 0 20px rgba(102, 126, 234, 0.3)';
        });
    });
});
</script>
{% endblock %}