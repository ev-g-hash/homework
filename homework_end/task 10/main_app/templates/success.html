{% extends "base.html" %}
{% block title %}–£—Å–ø–µ—à–Ω–æ!{% endblock %}
{% block content %}
<div class="success-message">
    <h3>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h3>
    <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å <strong>{{ user.name }}</strong> –±—ã–ª —É—Å–ø–µ—à–Ω–æ {% if action == 'created' %}—Å–æ–∑–¥–∞–Ω{% else %}–æ–±–Ω–æ–≤–ª–µ–Ω{% endif %}!</p>
</div>

<div class="user-card">
    <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h3>
    <div class="user-info">
        <strong>üë§ –ò–º—è:</strong> {{ user.name }}
    </div>
    <div class="user-info">
        <strong>üìß Email:</strong> {{ user.email }}
    </div>
    <div class="user-info">
        <strong>üì± –¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ user.phone }}
    </div>
    <div class="user-info">
        <strong>üéÇ –í–æ–∑—Ä–∞—Å—Ç:</strong> {{ user.age }} –ª–µ—Ç
    </div>
</div>

<div class="actions">
    <a href="{% url 'user_profile' user.id %}" class="btn btn-success">üëÅÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
    <a href="{% url 'user_list' %}" class="btn">üìã –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a>
    <a href="{% url 'create_profile' %}" class="btn btn-warning">‚ûï –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ</a>
</div>

<script>
// –ü—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
{% comment %} setTimeout(() => {
    alert(`üéâ –û—Ç–ª–∏—á–Ω–æ! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {{ user.name }} –±—ã–ª —É—Å–ø–µ—à–Ω–æ {% if action == 'created' %}—Å–æ–∑–¥–∞–Ω{% else %}–æ–±–Ω–æ–≤–ª–µ–Ω{% endif %}!\n\n–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.`);
}, 1000); {% endcomment %}

// –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç (–ø—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è)
function createConfetti() {
    const colors = ['#667eea', '#764ba2', '#4CAF50', '#ff9800', '#f44336'];
    
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'fixed';
        confetti.style.width = '10px';
        confetti.style.height = '10px';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = Math.random() * window.innerWidth + 'px';
        confetti.style.top = '-10px';
        confetti.style.borderRadius = '50%';
        confetti.style.pointerEvents = 'none';
        confetti.style.zIndex = '9999';
        confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
        
        document.body.appendChild(confetti);
        
        setTimeout(() => {
            document.body.removeChild(confetti);
        }, 5000);
    }
}

// –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
const style = document.createElement('style');
style.textContent = `
    @keyframes fall {
        to {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
setTimeout(createConfetti, 2000);
</script>
{% endblock %}