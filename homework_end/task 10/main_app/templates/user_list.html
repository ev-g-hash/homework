{% extends "base.html" %}
{% block title %}–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π{% endblock %}
{% block content %}
<div class="header">
    <h2>üë• –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ({{ users.count }})</h2>
    <a href="{% url 'create_profile' %}" class="btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
</div>

{% if users %}
    {% for user in users %}
    <div class="user-card">
        <h3>{{ user.name }}</h3>
        <div class="user-info">
            <strong>üìß Email:</strong> {{ user.email }}
        </div>
        <div class="user-info">
            <strong>üì± –¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ user.phone }}
        </div>
        <div class="user-info">
            <strong>üéÇ –í–æ–∑—Ä–∞—Å—Ç:</strong> {{ user.age }} –ª–µ—Ç
        </div>
        <div class="user-info">
            <strong>üìÖ –°–æ–∑–¥–∞–Ω:</strong> {{ user.created_at|date:"d.m.Y H:i" }}
        </div>
        
        <div class="actions">
            <a href="{% url 'user_profile' user.id %}" class="btn btn-success">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</a>
            <a href="{% url 'edit_profile' user.id %}" class="btn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <form method="post" action="{% url 'delete_user' user.id %}" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </form>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="user-card">
        <h3>üòî –ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ!</p>
        <a href="{% url 'create_profile' %}" class="btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
    </div>
{% endif %}

{% comment %} <script>
// –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
document.addEventListener('DOMContentLoaded', function() {
    const userCards = document.querySelectorAll('.user-card');
    
    userCards.forEach((card, index) => {
        setTimeout(() => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.5s ease';
            
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 100);
        }, index * 100);
    });
    
    // –°—á–µ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    const userCount = {{ users.count }};
    if (userCount > 0) {
        setTimeout(() => {
            alert(`üéâ –û—Ç–ª–∏—á–Ω–æ! –£ –≤–∞—Å —É–∂–µ ${userCount} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å${userCount === 1 ? '' : userCount < 5 ? '–∞' : '–µ–π'} –≤ —Å–∏—Å—Ç–µ–º–µ!`);
        }, 3000);
    }
});
</script> {% endcomment %}
{% endblock %}