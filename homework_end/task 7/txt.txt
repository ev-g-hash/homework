–ó–∞–¥–∞—á–∞ 7
–ó–∞–¥–∞–Ω–∏–µ:
–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ create_profile –≤–æ views –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è main_app.
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å POST-–∑–∞–ø—Ä–æ—Å —Å –¥–∞–Ω–Ω—ã–º–∏ name, age, phone, email, 
–≤—ã–ø–æ–ª–Ω—è—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã, –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö.
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å 
–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π /user_list/ (–∏–º—è –º–∞—Ä—à—Ä—É—Ç–∞ 'user_list') 
–∏ —Å–æ–∑–¥–∞–π –∫ –Ω–µ–º—É —à–∞–±–ª–æ–Ω user_list.html.
–î–ª—è –º–µ—Ç–æ–¥–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–ª–∏—á–Ω—ã—Ö –æ—Ç POST, 
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏ —à–∞–±–ª–æ–Ω create_profile.html, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ 
–ø–µ—Ä–µ–¥–∞–≤ –≤ —à–∞–±–ª–æ–Ω user_form.html —Ñ–æ—Ä–º—É UserForm –≤ –≤–∏–¥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π user_form
–¥–æ–±–∞–≤—å —à–∞–±–ª–æ–Ω index.html –∏ –Ω–∞–ø–∏—à–∏ –¥–ª—è —ç—Ç–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–æ views.
–°–æ–∑–¥–∞–π –∫ —ç—Ç–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã models.py, urls.py, admin.py, views.py
–¥–æ–±–∞–≤—å —Ç—É–¥–∞ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É index.html, 
create_profile.html, user_list.html —Ñ–∞–π–ª–∞–º–∏, –æ—Ñ–æ—Ä–º–∏ css —Å—Ç–∏–ª–µ–º
–∏ –≤—ã–≤–µ–¥–∏ –∏—Ç–æ–≥–æ–≤—ã–µ –∫–æ–¥—ã —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏
____________________________________________________________

python -m venv venv_task7
venv_task7\Scripts\activate
python -m pip install --upgrade pip
pip install django
django-admin startproject main .
python manage.py runserver
python manage.py migrate
python manage.py startapp main_app 
____________________________________________________________
main_app/urls.py
____________________________________________________________
settings.py
INSTALLED_APPS = [    
    ...

    'main_app',
]

–ø–æ—á–∏—Ç–∞–π –∏–º–µ–µ—Ç –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ
____________________________________________________________
–∑–∞–ø—Ä–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É
*****************
–Ω–∞–ø–∏—à–∏

–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ create_profile –≤–æ views –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è main_app.
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å POST-–∑–∞–ø—Ä–æ—Å —Å –¥–∞–Ω–Ω—ã–º–∏ name, age, phone, email, 
–≤—ã–ø–æ–ª–Ω—è—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã, –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ—ë.
–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å 
–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π user_list.
–î–ª—è –º–µ—Ç–æ–¥–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–ª–∏—á–Ω—ã—Ö –æ—Ç POST,–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏ —à–∞–±–ª–æ–Ω create_profile.html, 
–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤ –≤ —à–∞–±–ª–æ–Ω user_form.html —Ñ–æ—Ä–º—É UserForm –≤ –≤–∏–¥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π user_form.
–°–æ–∑–¥–∞–π —à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ index.html,user_form.html, user_list.html, create_profile.html.
–°–æ–∑–¥–∞–π –∫ —ç—Ç–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã models.py, urls.py, admin.py, views.py
–Ω–∞–ø–∏—à–∏ –æ—Å–Ω–æ–≤–Ω–æ–π urls.py.  
–¢–∞–∫ –∂–µ –≤–æ views –Ω–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏ —É–¥–∞–ª–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã.
–í—Å—ë –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ.
–í—ã–≤–µ–¥–∏ –∏—Ç–æ–≥–æ–≤—ã–µ –∫–æ–¥—ã —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏.
____________________________________________________________
–æ—Å–Ω–æ–≤–Ω–æ–π urls.py

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('main_app.urls')),
]
____________________________________________________________
main_app/models.py
******************
from django.db import models

class UserProfile(models.Model):
    name = models.CharField(max_length=100)
    age = models.IntegerField()
    phone = models.CharField(max_length=15)
    email = models.EmailField()

    def __str__(self):
        return self.name
____________________________________________________________
main_app/forms.py
*****************
from django import forms
from .models import UserProfile

class UserForm(forms.ModelForm):
    class Meta:
        model = UserProfile
        fields = ['name', 'age', 'phone', 'email']
____________________________________________________________
main_app/admin.py
*****************
from django.contrib import admin
from .models import UserProfile

admin.site.register(UserProfile)
____________________________________________________________
main_app/views.py
*****************
from django.shortcuts import render, redirect
from django.urls import reverse
from .models import UserProfile
from .forms import UserForm

def index(request):
    return render(request, 'index.html')

def user_list(request):
    users = UserProfile.objects.all()
    return render(request, 'user_list.html', {'users': users})

def create_profile(request):
    if request.method == 'POST':
        form = UserForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('user_list')  # –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        else:
            # –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å–ø–∏—Å–æ–∫
            return redirect('user_list')  # –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ —à–∞–±–ª–æ–Ω
    else:
        form = UserForm()
    return render(request, 'create_profile.html', {'user_form': form})

def delete_user(request, user_id):
    user = UserProfile.objects.get(id=user_id)
    user.delete()
    return redirect('user_list')

____________________________________________________________
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –†–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ POST ‚Äî —Å–¥–µ–ª–∞–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–º (redirect), 
–∫–∞–∫ –∏ –ø—Ä–æ—Å–∏–ª–∏. –ù–æ –æ–±—ã—á–Ω–æ –ª—É—á—à–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. 
–ó–¥–µ—Å—å –º—ã —É–ø—Ä–æ—Å—Ç–∏–ª–∏: –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ user_list.
____________________________________________________________
main_app/urls.py
****************
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
    path('users/', views.user_list, name='user_list'),
    path('create/', views.create_profile, name='create_profile'),
    path('delete/<int:user_id>/', views.delete_user, name='delete_user'),
]
____________________________________________________________
–û—Å–Ω–æ–≤–Ω–æ–π main/urls.py
********************
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('main_app.urls')),
]
____________________________________________________________
templates/index.html
********************
<!DOCTYPE html>
<html>
<head>
    <title>–ì–ª–∞–≤–Ω–∞—è</title>
</head>
<body>
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
    <a href="{% url 'user_list' %}">–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</a><br>
    <a href="{% url 'create_profile' %}">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
</body>
</html>
____________________________________________________________
templates/user_form.htm
**********************
<form method="post">
    {% csrf_token %}
    <table>
        {{ user_form.as_table }}
    </table>
    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
____________________________________________________________
templates/create_profile.html
****************************
<!DOCTYPE html>
<html>
<head>
    <title>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</title>
</head>
<body>
    <h2>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h2>
    {% include 'user_form.html' %}
    <br>
    <a href="{% url 'user_list' %}">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
</body>
</html>
____________________________________________________________
templates/user_list.html
************************
<!DOCTYPE html>
<html>
<head>
    <title>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title>
</head>
<body>
    <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
    <a href="{% url 'create_profile' %}">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a>
    <ul>
        {% for user in users %}
        <li>
            {{ user.name }}, {{ user.age }} –ª–µ—Ç, {{ user.phone }}, {{ user.email }}
            <a href="{% url 'delete_user' user.id %}" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å?')">[–£–¥–∞–ª–∏—Ç—å]</a>
        </li>
        {% empty %}
        <li>–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</li>
        {% endfor %}
    </ul>
    <a href="{% url 'index' %}">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
</body>
</html>
____________________________________________________________
üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ (–≤–Ω–µ –∫–æ–¥–∞):
–£–±–µ–¥–∏—Å—å, —á—Ç–æ main_app –¥–æ–±–∞–≤–ª–µ–Ω –≤ INSTALLED_APPS –≤ settings.py:

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'main_app',
]
____________________________________________________________
–°–æ–∑–¥–∞–π –ø–∞–ø–∫—É templates –≤ main_app –∏ —Ä–∞–∑–º–µ—Å—Ç–∏ —Ç–∞–º —à–∞–±–ª–æ–Ω—ã.

–°–¥–µ–ª–∞–π –º–∏–≥—Ä–∞—Ü–∏–∏:
python manage.py makemigrations
python manage.py migrate
____________________________________________________________
‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
POST –∏ GET –æ–±—Ä–∞–±–æ—Ç–∫–∞
–†–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ü—Ä–æ—Å—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ CBV (–∫–ª–∞—Å—Å—ã) –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å 
—Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Äî –Ω–∞–ø–∏—à–∏!





